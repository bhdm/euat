{% extends 'AppBundle::layout.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    {% stylesheets "@AppBundle/Resources/public/less/comments.less" %}
    <link href="{{ asset_url }}" type="text/css" rel="stylesheet" media="all" />
    {% endstylesheets %}
{% endblock %}

{% block javascript %}
    {{ parent() }}
    <script src="{{ asset('assets/vendor/moment/moment.js') }}"></script>
    <script src="{{ asset('assets/vendor/moment/locale/ru.js') }}"></script>
    <script src="{{ asset('assets/vendor/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js') }}"></script>
{% endblock %}

{% block content %}
    <div class="col-xs-4" style="padding-left: 0">
        {{ render(controller("AppBundle:Widget:calendar" )) }}
    </div>
    <div class="col-xs-8" style="padding-right: 0">
        <h1 class="blue-text">{{ event.title }}</h1>
        <div class="row">
            <div class="col-xs-6">
                <ul class="event-params">
                    {% if event.specialties | length > 0 %}
                        <li><b>Специальности:</b>
                            {% for s in event.specialties %}
                                {{ s.title }}
                                {% if s != event.specialties | last %}
                                    ,
                                {% endif %}
                            {% endfor %}
                        </li>
                    {% endif %}
                    {% if event.partner != null %}
                        <li><b>Партнеры:</b> {{ event.partner }}</li>
                    {% endif %}

                    {% if event.start != null %}
                        <li>
                            <b>Дата начала:</b>     {{ event.start | date('d.m.Y') }}
                            {% if time != null %}
                                {{ event.time | date('H:i') }}
                            {% endif %}
                        </li>
                    {% endif %}
                    {% if event.end != null %}
                        <li><b>Дата окончания:</b>  {{ event.end  | date('d.m.Y') }}</li>
                    {% endif %}
                    {% if event.city != null %}
                        <li><b>Город:</b>           {{ event.city  }}</li>
                    {% endif %}
                    {% if event.adrs != null %}
                        <li><b>Адрес:</b>           {{ event.adrs }}</li>
                    {% endif %}
                    {% if event.contacts != null %}
                        <li><b>Контактная информация:</b> {{ event.contacts }}</li>
                    {% endif %}
                </ul>
            </div>
        </div>
        <hr />
        <div class="body">
            {{ event.body | raw }}
        </div>
        <div class="row row-params">
            <div class="col-xs-5" style="padding-top: 5px;">
                {#<span style="font-size: 12px">Расказать друзьям&nbsp;&nbsp;</span>#}
                <script type="text/javascript" src="//yastatic.net/es5-shims/0.0.2/es5-shims.min.js" charset="utf-8"></script>
                <script type="text/javascript" src="//yastatic.net/share2/share.js" charset="utf-8"></script>
                <div class="ya-share2" data-services="vkontakte,facebook,odnoklassniki,gplus,twitter" data-counter="" style="text-align: left; "></div>
            </div>
            <div class="col-xs-4">
                {% if event.specialties | length > 0 %}
                    <b>Специальности:</b>
                    {% for s in event.specialties  %}
                        {{ s.title }}{% if s != event.specialties | last %},{% endif %}
                    {% endfor %}
                {% endif %}
            </div>
            <div class="col-xs-3 text-right">
                <div style="padding-top: 10px; padding-bottom: 6px">
                    <span class="glyphicon glyphicon-calendar"></span> {{ event.created | date('d.m.Y') }}
                </div>
            </div>
        </div>
        <br />
        {% if event.isAllowCommentary == true %}
            {% include '@App/Publication/comments.html.twig'  with {'comments': event.comments, 'id' : event.id, 'type': 'event' } %}
        {% endif %}
    </div>

{% endblock %}